# 안전 작동 검사

- 어플리케이션이 동작 도중에 생성하는 다양한 연산 결과값을 동적으로 확인하고 안전하게 처리하는 구문
- 조건을 통해 패스 및 스크립트 중단으로 사용자 입장에서 치명적인 런타임 에러 등을 사전에 방지

## Assertion

- `assert(_:_:file:line:)` 함수를 사용
    - K : 예제에서도 매개변수가 저 순서대로 되어있는데, 실제로 해보니까 file, line이 앞에 왔고, 내장함수 형태에 두 매개변수가 없었음
- assert 함수는 ‘디버깅 모드'에서만 동작
- 배포하는 어플리케이션에서는 해당 구문이 제외됨
- 예상했던 **조건의 검증을 위하여** 사용
- Assert 함수의 조건이 false인 경우, 메세지를 표시하고 그 시점의 모든 스크립트를 중단

```swift
var someInt : Int? = 0

// 형태
// assert(Bool 타입 조건, 실패 시 메세지)

assert(someInt == 0) // 패스
assert(someInt == 0, "someInt가 0이 아닙니다.") // 패스

assert(someInt == 1) // Assertion failed
assert(someInt == 1, "someInt가 0이 아닙니다.") // Assertion failed: someInt가 0이 아닙니다.

someInt = nil
assert(someInt != nil, "someInt = nil") // Assertion failed: someInt = nil

func ageCheckWithAssert(inputAge : Int?) {
  
  // 조건문이 true면 진행, 아니면 중단 후 메세지 출력
  // inputAge가 nil이 아니면 진행, nil이면 중단 후 메세지 출력
  assert(inputAge != nil, "inputAge = nil")
  
  // 다중 조건인 경우 소괄호로 묶어서 작성
  assert((inputAge! > 0) && (inputAge! <= 100), "나이가 0세 이하 혹은 100세 초과입니다.")
  print("입력한 나이는 \(inputAge!)세 입니다.")
}

ageCheckWithAssert(inputAge: 50)

// inputAge -1 입력 시 func 내부에서 print까지 못 가기도 하지만, 거기서 스크립트가 종료되기 때문에 아래 함수인 inputAge : nil도 실행하지 않음
ageCheckWithAssert(inputAge: -1) // Assertion failed: 나이가 0세 이하 혹은 100세 초과입니다.
ageCheckWithAssert(inputAge: nil) // Assertion failed: inputAge = nil

// * assert(_:_:file:line:)와 같은 역할을 하지만 실제 배포 환경에서도 동작하는 precondition(_:_:file:line:) 함수도 있음
```
